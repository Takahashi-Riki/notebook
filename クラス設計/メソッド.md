# 確認すべきこと

## ロジック設計

- 現実の営みとしてあり得るメソッドが定義されているか？

## ロジックの定義場所

- ロジックが定義されているのはデータ保持側になっているか？ ※1

## インスタンスの変更

- インスタンスを変更したい場合は、新しいインスタンスを作成しているか？ ※1

## 型

- プリミティブ側ではなく独自の型を利用しているか？（値の渡し間違いを型で防止する意図） ※1

# サンプルコード

# サンプル1

```ruby
class Money
  attr_reader :amount, :currency

  def initialize(amount, currency)
    raise ArgumentError.new("金額が0以上でありません") if amount < 0
    raise ArgumentError.new("通貨を指定してください") if currency.nil? || currency.empty?
    @amount = amount
    @currency = currency
  end

  # 計算ロジックをデータ保持側に寄せる。
  def add(other)
    # 値の渡し間違いを型で防止する。
    raise TypeError.new("引数がお金ではありません") unless other.instance_of?(Money)
    raise ArgumentError.new("通貨単位が異なります") unless currency == other.currency
    added_amount = amount + other.amount
    # 変更したい場合は新しいインスタンスを作成する。
    Money.new(added_amount, currency)
  end
end

savings   = Money.new(10000, "円")
allowance = Money.new( 1000, "円")
new_savings = savings.add(allowance)

puts new_savings
# => #<Money:0x00007f9733823468>

puts new_savings.amount
# => 11000
```
